
var OGVDecoderVideoVP8W = (function() {
  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;
  if (typeof __filename !== 'undefined') _scriptDir = _scriptDir || __filename;
  return (
function(OGVDecoderVideoVP8W) {
  OGVDecoderVideoVP8W = OGVDecoderVideoVP8W || {};


var a;a||(a=typeof OGVDecoderVideoVP8W !== 'undefined' ? OGVDecoderVideoVP8W : {});var aa;a.ready=new Promise(function(b){aa=b});var ba=a,n={},q;for(q in a)a.hasOwnProperty(q)&&(n[q]=a[q]);var r=!1,t=!1,ca=!1,da=!1;r="object"===typeof window;t="function"===typeof importScripts;ca="object"===typeof process&&"object"===typeof process.versions&&"string"===typeof process.versions.node;da=!r&&!ca&&!t;var x="",y,z,ea,fa;
if(ca)x=t?require("path").dirname(x)+"/":__dirname+"/",y=function(b,c){ea||(ea=require("fs"));fa||(fa=require("path"));b=fa.normalize(b);return ea.readFileSync(b,c?null:"utf8")},z=function(b){b=y(b,!0);b.buffer||(b=new Uint8Array(b));b.buffer||A("Assertion failed: undefined");return b},1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("unhandledRejection",A),a.inspect=function(){return"[Emscripten Module object]"};else if(da)"undefined"!=typeof read&&(y=function(b){return read(b)}),
z=function(b){if("function"===typeof readbuffer)return new Uint8Array(readbuffer(b));b=read(b,"binary");"object"===typeof b||A("Assertion failed: undefined");return b},"undefined"!==typeof print&&("undefined"===typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!==typeof printErr?printErr:print);else if(r||t)t?x=self.location.href:document.currentScript&&(x=document.currentScript.src),_scriptDir&&(x=_scriptDir),0!==x.indexOf("blob:")?x=x.substr(0,x.lastIndexOf("/")+
1):x="",y=function(b){var c=new XMLHttpRequest;c.open("GET",b,!1);c.send(null);return c.responseText},t&&(z=function(b){var c=new XMLHttpRequest;c.open("GET",b,!1);c.responseType="arraybuffer";c.send(null);return new Uint8Array(c.response)});var ha=a.print||console.log.bind(console),D=a.printErr||console.warn.bind(console);for(q in n)n.hasOwnProperty(q)&&(a[q]=n[q]);n=null;var E=0,F;a.wasmBinary&&(F=a.wasmBinary);var noExitRuntime;a.noExitRuntime&&(noExitRuntime=a.noExitRuntime);
"object"!==typeof WebAssembly&&D("no native wasm support detected");var G,ma=new WebAssembly.Table({initial:64,maximum:64,element:"anyfunc"}),na=!1,H,oa,I;function pa(b){H=b;a.HEAP8=new Int8Array(b);a.HEAP16=new Int16Array(b);a.HEAP32=I=new Int32Array(b);a.HEAPU8=oa=new Uint8Array(b);a.HEAPU16=new Uint16Array(b);a.HEAPU32=new Uint32Array(b);a.HEAPF32=new Float32Array(b);a.HEAPF64=new Float64Array(b)}var qa=a.INITIAL_MEMORY||16777216;
a.wasmMemory?G=a.wasmMemory:G=new WebAssembly.Memory({initial:qa/65536,maximum:32768});G&&(H=G.buffer);qa=H.byteLength;pa(H);I[2120]=5251520;function J(b){for(;0<b.length;){var c=b.shift();if("function"==typeof c)c(a);else{var f=c.H;"number"===typeof f?void 0===c.F?a.dynCall_v(f):a.dynCall_vi(f,c.F):f(void 0===c.F?null:c.F)}}}var ra=[],sa=[],ta=[],ua=[];function va(){var b=a.preRun.shift();ra.unshift(b)}var K=0,wa=null,L=null;a.preloadedImages={};a.preloadedAudios={};
function A(b){if(a.onAbort)a.onAbort(b);ha(b);D(b);na=!0;throw new WebAssembly.RuntimeError("abort("+b+"). Build with -s ASSERTIONS=1 for more info.");}function xa(b){var c=P;return String.prototype.startsWith?c.startsWith(b):0===c.indexOf(b)}function ya(){return xa("data:application/octet-stream;base64,")}var P="ogv-decoder-video-vp8-wasm.wasm";if(!ya()){var za=P;P=a.locateFile?a.locateFile(za,x):x+za}
function Aa(){try{if(F)return new Uint8Array(F);if(z)return z(P);throw"both async and sync fetching of the wasm failed";}catch(b){A(b)}}function Ba(){return F||!r&&!t||"function"!==typeof fetch||xa("file://")?new Promise(function(b){b(Aa())}):fetch(P,{credentials:"same-origin"}).then(function(b){if(!b.ok)throw"failed to load wasm binary file at '"+P+"'";return b.arrayBuffer()}).catch(function(){return Aa()})}sa.push({H:function(){Ca()}});var Q=0;
function Da(b,c,f,d){b|=0;c|=0;f|=0;d|=0;var e=0;Q=Q+1|0;for(I[b>>2]=Q;(e|0)<(d|0);){if(0==(I[f+(e<<3)>>2]|0))return I[f+(e<<3)>>2]=Q,I[f+((e<<3)+4)>>2]=c,I[f+((e<<3)+8)>>2]=0,E=d|0,f|0;e=e+1|0}d=2*d|0;f=Pa(f|0,8*(d+1|0)|0)|0;f=Da(b|0,c|0,f|0,d|0)|0;E=d|0;return f|0}
var Wa={d:function(b,c){R(b,c||1);throw"longjmp";},k:function(b,c,f){oa.copyWithin(b,c,c+f)},l:function(b){b>>>=0;var c=oa.length;if(2147483648<b)return!1;for(var f=1;4>=f;f*=2){var d=c*(1+.2/f);d=Math.min(d,b+100663296);d=Math.max(16777216,b,d);0<d%65536&&(d+=65536-d%65536);a:{try{G.grow(Math.min(2147483648,d)-H.byteLength+65535>>>16);pa(G.buffer);var e=1;break a}catch(g){}e=void 0}if(e)return!0}return!1},a:function(){return E|0},g:Qa,i:Ra,j:Sa,h:Ta,e:Ua,memory:G,m:function(b,c,f,d,e,g,l,m,V,u,M,
N,W,X,ia,ja){function ka(B,p,v,la,Ea,Fa,eb,fb,Y){if(Va){var h=new Float64Array(B.buffer);p=new Float64Array(Ga,p,v*la>>3);h.set(p)}else B.set(new Uint8Array(Ga,p,v*la));var w;for(p=w=0;p<Fa;p++,w+=v)for(h=0;h<v;h++)B[w+h]=Y;for(;p<Fa+fb;p++,w+=v){for(h=0;h<Ea;h++)B[w+h]=Y;for(h=Ea+eb;h<v;h++)B[w+h]=Y}for(;p<la;p++,w+=v)for(h=0;h<v;h++)B[w+h]=Y;return B}var Ga=G.buffer,k=a.videoFormat,Ha=(W&-2)*V/l,Ia=(X&-2)*u/m,Ja=M*V/l,Ka=N*u/m;M===k.cropWidth&&N===k.cropHeight&&(ia=k.displayWidth,ja=k.displayHeight);
for(var La=a.recycledFrames,C,Ma=m*c,Na=u*d,Oa=u*g;0<La.length;){var O=La.shift();k=O.format;if(k.width===l&&k.height===m&&k.chromaWidth===V&&k.chromaHeight===u&&k.cropLeft===W&&k.cropTop===X&&k.cropWidth===M&&k.cropHeight===N&&k.displayWidth===ia&&k.displayHeight===ja&&O.y.bytes.length===Ma&&O.u.bytes.length===Na&&O.v.bytes.length===Oa){C=O;break}}C||(C={format:{width:l,height:m,chromaWidth:V,chromaHeight:u,cropLeft:W,cropTop:X,cropWidth:M,cropHeight:N,displayWidth:ia,displayHeight:ja},y:{bytes:new Uint8Array(Ma),
stride:c},u:{bytes:new Uint8Array(Na),stride:d},v:{bytes:new Uint8Array(Oa),stride:g}});ka(C.y.bytes,b,c,m,W,X,M,N,0);ka(C.u.bytes,f,d,u,Ha,Ia,Ja,Ka,128);ka(C.v.bytes,e,g,u,Ha,Ia,Ja,Ka,128);a.frameBuffer=C},f:Da,b:function(b){E=b|0},table:ma,c:function(b,c,f){b|=0;c|=0;f|=0;for(var d=0,e;(d|0)<(f|0);){e=I[c+(d<<3)>>2]|0;if(0==(e|0))break;if((e|0)==(b|0))return I[c+((d<<3)+4)>>2]|0;d=d+1|0}return 0}},Xa=function(){function b(e){a.asm=e.exports;K--;a.monitorRunDependencies&&a.monitorRunDependencies(K);
0==K&&(null!==wa&&(clearInterval(wa),wa=null),L&&(e=L,L=null,e()))}function c(e){b(e.instance)}function f(e){return Ba().then(function(g){return WebAssembly.instantiate(g,d)}).then(e,function(g){D("failed to asynchronously prepare wasm: "+g);A(g)})}var d={a:Wa};K++;a.monitorRunDependencies&&a.monitorRunDependencies(K);if(a.instantiateWasm)try{return a.instantiateWasm(d,b)}catch(e){return D("Module.instantiateWasm callback failed with error: "+e),!1}(function(){if(F||"function"!==typeof WebAssembly.instantiateStreaming||
ya()||xa("file://")||"function"!==typeof fetch)return f(c);fetch(P,{credentials:"same-origin"}).then(function(e){return WebAssembly.instantiateStreaming(e,d).then(c,function(g){D("wasm streaming compile failed: "+g);D("falling back to ArrayBuffer instantiation");f(c)})})})();return{}}();a.asm=Xa;var Ca=a.___wasm_call_ctors=function(){return(Ca=a.___wasm_call_ctors=a.asm.n).apply(null,arguments)};a._ogv_video_decoder_init=function(){return(a._ogv_video_decoder_init=a.asm.o).apply(null,arguments)};
a._ogv_video_decoder_async=function(){return(a._ogv_video_decoder_async=a.asm.p).apply(null,arguments)};a._ogv_video_decoder_destroy=function(){return(a._ogv_video_decoder_destroy=a.asm.q).apply(null,arguments)};a._ogv_video_decoder_process_header=function(){return(a._ogv_video_decoder_process_header=a.asm.r).apply(null,arguments)};a._ogv_video_decoder_process_frame=function(){return(a._ogv_video_decoder_process_frame=a.asm.s).apply(null,arguments)};
a._malloc=function(){return(a._malloc=a.asm.t).apply(null,arguments)};a._free=function(){return(a._free=a.asm.u).apply(null,arguments)};var R=a._setThrew=function(){return(R=a._setThrew=a.asm.v).apply(null,arguments)},Pa=a._realloc=function(){return(Pa=a._realloc=a.asm.w).apply(null,arguments)};a.dynCall_v=function(){return(a.dynCall_v=a.asm.x).apply(null,arguments)};
var Ya=a.dynCall_vi=function(){return(Ya=a.dynCall_vi=a.asm.y).apply(null,arguments)},Za=a.dynCall_viiii=function(){return(Za=a.dynCall_viiii=a.asm.z).apply(null,arguments)},$a=a.dynCall_iii=function(){return($a=a.dynCall_iii=a.asm.A).apply(null,arguments)},ab=a.dynCall_iiii=function(){return(ab=a.dynCall_iiii=a.asm.B).apply(null,arguments)},bb=a.dynCall_iiiij=function(){return(bb=a.dynCall_iiiij=a.asm.C).apply(null,arguments)},S=a.stackSave=function(){return(S=a.stackSave=a.asm.D).apply(null,arguments)},
T=a.stackRestore=function(){return(T=a.stackRestore=a.asm.E).apply(null,arguments)};function Ua(b,c,f,d,e){var g=S();try{Za(b,c,f,d,e)}catch(l){T(g);if(l!==l+0&&"longjmp"!==l)throw l;R(1,0)}}function Qa(b,c,f){var d=S();try{return $a(b,c,f)}catch(e){T(d);if(e!==e+0&&"longjmp"!==e)throw e;R(1,0)}}function Ra(b,c,f,d){var e=S();try{return ab(b,c,f,d)}catch(g){T(e);if(g!==g+0&&"longjmp"!==g)throw g;R(1,0)}}
function Ta(b,c){var f=S();try{Ya(b,c)}catch(d){T(f);if(d!==d+0&&"longjmp"!==d)throw d;R(1,0)}}function Sa(b,c,f,d,e,g){var l=S();try{return bb(b,c,f,d,e,g)}catch(m){T(l);if(m!==m+0&&"longjmp"!==m)throw m;R(1,0)}}a.asm=Xa;var U;L=function cb(){U||db();U||(L=cb)};
function db(){function b(){if(!U&&(U=!0,a.calledRun=!0,!na)){J(sa);J(ta);aa(a);if(a.onRuntimeInitialized)a.onRuntimeInitialized();if(a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;){var c=a.postRun.shift();ua.unshift(c)}J(ua)}}if(!(0<K)){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)va();J(ra);0<K||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1);b()},1)):b())}}
a.run=db;if(a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();noExitRuntime=!0;db();var Z,gb,hb;hb="undefined"===typeof performance||"undefined"===typeof performance.now?Date.now:performance.now.bind(performance);function ib(b){var c=hb();b=b();a.cpuTime+=hb()-c;return b}a.loadedMetadata=!!ba.videoFormat;a.videoFormat=ba.videoFormat||null;a.frameBuffer=null;a.cpuTime=0;Object.defineProperty(a,"processing",{get:function(){return!1}});
a.init=function(b){ib(function(){a._ogv_video_decoder_init()});b()};a.processHeader=function(b,c){var f=ib(function(){var d=b.byteLength;Z&&gb>=d||(Z&&a._free(Z),gb=d,Z=a._malloc(gb));var e=Z;(new Uint8Array(G.buffer,e,d)).set(new Uint8Array(b));return a._ogv_video_decoder_process_header(e,d)});c(f)};a.G=[];
a.processFrame=function(b,c){function f(m){a._free(g);c(m)}var d=a._ogv_video_decoder_async(),e=b.byteLength,g=a._malloc(e);d&&a.G.push(f);var l=ib(function(){(new Uint8Array(G.buffer,g,e)).set(new Uint8Array(b));return a._ogv_video_decoder_process_frame(g,e)});d||f(l)};a.close=function(){};a.sync=function(){a._ogv_video_decoder_async()&&(a.G.push(function(){}),ib(function(){a._ogv_video_decoder_process_frame(0,0)}))};a.recycledFrames=[];
a.recycleFrame=function(b){var c=a.recycledFrames;c.push(b);16<c.length&&c.shift()};var Va="object"===typeof navigator&&navigator.userAgent.match(/Trident/);


  return OGVDecoderVideoVP8W.ready
}
);
})();
if (typeof exports === 'object' && typeof module === 'object')
      module.exports = OGVDecoderVideoVP8W;
    else if (typeof define === 'function' && define['amd'])
      define([], function() { return OGVDecoderVideoVP8W; });
    else if (typeof exports === 'object')
      exports["OGVDecoderVideoVP8W"] = OGVDecoderVideoVP8W;
    