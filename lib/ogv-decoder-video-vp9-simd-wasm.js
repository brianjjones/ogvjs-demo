
var OGVDecoderVideoVP9SIMDW = (function() {
  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;
  if (typeof __filename !== 'undefined') _scriptDir = _scriptDir || __filename;
  return (
function(OGVDecoderVideoVP9SIMDW) {
  OGVDecoderVideoVP9SIMDW = OGVDecoderVideoVP9SIMDW || {};


var a;a||(a=typeof OGVDecoderVideoVP9SIMDW !== 'undefined' ? OGVDecoderVideoVP9SIMDW : {});var aa;a.ready=new Promise(function(b){aa=b});var ba=a,n={},r;for(r in a)a.hasOwnProperty(r)&&(n[r]=a[r]);var t=!1,w=!1,ca=!1,da=!1;t="object"===typeof window;w="function"===typeof importScripts;ca="object"===typeof process&&"object"===typeof process.versions&&"string"===typeof process.versions.node;da=!t&&!ca&&!w;var x="",y,z,ea,fa;
if(ca)x=w?require("path").dirname(x)+"/":__dirname+"/",y=function(b,c){ea||(ea=require("fs"));fa||(fa=require("path"));b=fa.normalize(b);return ea.readFileSync(b,c?null:"utf8")},z=function(b){b=y(b,!0);b.buffer||(b=new Uint8Array(b));b.buffer||C("Assertion failed: undefined");return b},1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("unhandledRejection",C),a.inspect=function(){return"[Emscripten Module object]"};else if(da)"undefined"!=typeof read&&(y=function(b){return read(b)}),
z=function(b){if("function"===typeof readbuffer)return new Uint8Array(readbuffer(b));b=read(b,"binary");"object"===typeof b||C("Assertion failed: undefined");return b},"undefined"!==typeof print&&("undefined"===typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!==typeof printErr?printErr:print);else if(t||w)w?x=self.location.href:document.currentScript&&(x=document.currentScript.src),_scriptDir&&(x=_scriptDir),0!==x.indexOf("blob:")?x=x.substr(0,x.lastIndexOf("/")+
1):x="",y=function(b){var c=new XMLHttpRequest;c.open("GET",b,!1);c.send(null);return c.responseText},w&&(z=function(b){var c=new XMLHttpRequest;c.open("GET",b,!1);c.responseType="arraybuffer";c.send(null);return new Uint8Array(c.response)});var ha=a.print||console.log.bind(console),D=a.printErr||console.warn.bind(console);for(r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);n=null;var E=0,H;a.wasmBinary&&(H=a.wasmBinary);var noExitRuntime;a.noExitRuntime&&(noExitRuntime=a.noExitRuntime);
"object"!==typeof WebAssembly&&D("no native wasm support detected");var I,ma=new WebAssembly.Table({initial:149,maximum:149,element:"anyfunc"}),na=!1,J,oa,K;function pa(b){J=b;a.HEAP8=new Int8Array(b);a.HEAP16=new Int16Array(b);a.HEAP32=K=new Int32Array(b);a.HEAPU8=oa=new Uint8Array(b);a.HEAPU16=new Uint16Array(b);a.HEAPU32=new Uint32Array(b);a.HEAPF32=new Float32Array(b);a.HEAPF64=new Float64Array(b)}var qa=a.INITIAL_MEMORY||16777216;
a.wasmMemory?I=a.wasmMemory:I=new WebAssembly.Memory({initial:qa/65536,maximum:32768});I&&(J=I.buffer);qa=J.byteLength;pa(J);K[8692]=5277808;function L(b){for(;0<b.length;){var c=b.shift();if("function"==typeof c)c(a);else{var f=c.N;"number"===typeof f?void 0===c.L?a.dynCall_v(f):a.dynCall_vi(f,c.L):f(void 0===c.L?null:c.L)}}}var ra=[],sa=[],ta=[],ua=[];function va(){var b=a.preRun.shift();ra.unshift(b)}var M=0,wa=null,N=null;a.preloadedImages={};a.preloadedAudios={};
function C(b){if(a.onAbort)a.onAbort(b);ha(b);D(b);na=!0;throw new WebAssembly.RuntimeError("abort("+b+"). Build with -s ASSERTIONS=1 for more info.");}function xa(b){var c=Q;return String.prototype.startsWith?c.startsWith(b):0===c.indexOf(b)}function ya(){return xa("data:application/octet-stream;base64,")}var Q="ogv-decoder-video-vp9-simd-wasm.wasm";if(!ya()){var za=Q;Q=a.locateFile?a.locateFile(za,x):x+za}
function Aa(){try{if(H)return new Uint8Array(H);if(z)return z(Q);throw"both async and sync fetching of the wasm failed";}catch(b){C(b)}}function Ba(){return H||!t&&!w||"function"!==typeof fetch||xa("file://")?new Promise(function(b){b(Aa())}):fetch(Q,{credentials:"same-origin"}).then(function(b){if(!b.ok)throw"failed to load wasm binary file at '"+Q+"'";return b.arrayBuffer()}).catch(function(){return Aa()})}sa.push({N:function(){Ca()}});var R=0;
function Da(b,c,f,d){b|=0;c|=0;f|=0;d|=0;var e=0;R=R+1|0;for(K[b>>2]=R;(e|0)<(d|0);){if(0==(K[f+(e<<3)>>2]|0))return K[f+(e<<3)>>2]=R,K[f+((e<<3)+4)>>2]=c,K[f+((e<<3)+8)>>2]=0,E=d|0,f|0;e=e+1|0}d=2*d|0;f=Pa(f|0,8*(d+1|0)|0)|0;f=Da(b|0,c|0,f|0,d|0)|0;E=d|0;return f|0}
var Za={d:function(b,c){S(b,c||1);throw"longjmp";},m:function(b,c,f){oa.copyWithin(b,c,c+f)},n:function(b){b>>>=0;var c=oa.length;if(2147483648<b)return!1;for(var f=1;4>=f;f*=2){var d=c*(1+.2/f);d=Math.min(d,b+100663296);d=Math.max(16777216,b,d);0<d%65536&&(d+=65536-d%65536);a:{try{I.grow(Math.min(2147483648,d)-J.byteLength+65535>>>16);pa(I.buffer);var e=1;break a}catch(g){}e=void 0}if(e)return!0}return!1},a:function(){return E|0},f:Qa,k:Ra,l:Sa,i:Ta,h:Ua,e:Va,o:Wa,j:Xa,memory:I,p:function(b,c,f,
d,e,g,h,k,p,u,v,O,W,X,ia,ja){function ka(F,q,A,la,Ea,Fa,kb,lb,Y){if(Ya){var l=new Float64Array(F.buffer);q=new Float64Array(Ga,q,A*la>>3);l.set(q)}else F.set(new Uint8Array(Ga,q,A*la));var B;for(q=B=0;q<Fa;q++,B+=A)for(l=0;l<A;l++)F[B+l]=Y;for(;q<Fa+lb;q++,B+=A){for(l=0;l<Ea;l++)F[B+l]=Y;for(l=Ea+kb;l<A;l++)F[B+l]=Y}for(;q<la;q++,B+=A)for(l=0;l<A;l++)F[B+l]=Y;return F}var Ga=I.buffer,m=a.videoFormat,Ha=(W&-2)*p/h,Ia=(X&-2)*u/k,Ja=v*p/h,Ka=O*u/k;v===m.cropWidth&&O===m.cropHeight&&(ia=m.displayWidth,
ja=m.displayHeight);for(var La=a.recycledFrames,G,Ma=k*c,Na=u*d,Oa=u*g;0<La.length;){var P=La.shift();m=P.format;if(m.width===h&&m.height===k&&m.chromaWidth===p&&m.chromaHeight===u&&m.cropLeft===W&&m.cropTop===X&&m.cropWidth===v&&m.cropHeight===O&&m.displayWidth===ia&&m.displayHeight===ja&&P.y.bytes.length===Ma&&P.u.bytes.length===Na&&P.v.bytes.length===Oa){G=P;break}}G||(G={format:{width:h,height:k,chromaWidth:p,chromaHeight:u,cropLeft:W,cropTop:X,cropWidth:v,cropHeight:O,displayWidth:ia,displayHeight:ja},
y:{bytes:new Uint8Array(Ma),stride:c},u:{bytes:new Uint8Array(Na),stride:d},v:{bytes:new Uint8Array(Oa),stride:g}});ka(G.y.bytes,b,c,k,W,X,v,O,0);ka(G.u.bytes,f,d,u,Ha,Ia,Ja,Ka,128);ka(G.v.bytes,e,g,u,Ha,Ia,Ja,Ka,128);a.frameBuffer=G},g:Da,b:function(b){E=b|0},table:ma,c:function(b,c,f){b|=0;c|=0;f|=0;for(var d=0,e;(d|0)<(f|0);){e=K[c+(d<<3)>>2]|0;if(0==(e|0))break;if((e|0)==(b|0))return K[c+((d<<3)+4)>>2]|0;d=d+1|0}return 0}},$a=function(){function b(e){a.asm=e.exports;M--;a.monitorRunDependencies&&
a.monitorRunDependencies(M);0==M&&(null!==wa&&(clearInterval(wa),wa=null),N&&(e=N,N=null,e()))}function c(e){b(e.instance)}function f(e){return Ba().then(function(g){return WebAssembly.instantiate(g,d)}).then(e,function(g){D("failed to asynchronously prepare wasm: "+g);C(g)})}var d={a:Za};M++;a.monitorRunDependencies&&a.monitorRunDependencies(M);if(a.instantiateWasm)try{return a.instantiateWasm(d,b)}catch(e){return D("Module.instantiateWasm callback failed with error: "+e),!1}(function(){if(H||"function"!==
typeof WebAssembly.instantiateStreaming||ya()||xa("file://")||"function"!==typeof fetch)return f(c);fetch(Q,{credentials:"same-origin"}).then(function(e){return WebAssembly.instantiateStreaming(e,d).then(c,function(g){D("wasm streaming compile failed: "+g);D("falling back to ArrayBuffer instantiation");f(c)})})})();return{}}();a.asm=$a;var Ca=a.___wasm_call_ctors=function(){return(Ca=a.___wasm_call_ctors=a.asm.q).apply(null,arguments)};
a._ogv_video_decoder_init=function(){return(a._ogv_video_decoder_init=a.asm.r).apply(null,arguments)};a._ogv_video_decoder_async=function(){return(a._ogv_video_decoder_async=a.asm.s).apply(null,arguments)};a._ogv_video_decoder_destroy=function(){return(a._ogv_video_decoder_destroy=a.asm.t).apply(null,arguments)};a._ogv_video_decoder_process_header=function(){return(a._ogv_video_decoder_process_header=a.asm.u).apply(null,arguments)};
a._ogv_video_decoder_process_frame=function(){return(a._ogv_video_decoder_process_frame=a.asm.v).apply(null,arguments)};a._malloc=function(){return(a._malloc=a.asm.w).apply(null,arguments)};a._free=function(){return(a._free=a.asm.x).apply(null,arguments)};var S=a._setThrew=function(){return(S=a._setThrew=a.asm.y).apply(null,arguments)},Pa=a._realloc=function(){return(Pa=a._realloc=a.asm.z).apply(null,arguments)};a.dynCall_v=function(){return(a.dynCall_v=a.asm.A).apply(null,arguments)};
var ab=a.dynCall_vi=function(){return(ab=a.dynCall_vi=a.asm.B).apply(null,arguments)},bb=a.dynCall_viiii=function(){return(bb=a.dynCall_viiii=a.asm.C).apply(null,arguments)},cb=a.dynCall_viiiiii=function(){return(cb=a.dynCall_viiiiii=a.asm.D).apply(null,arguments)},db=a.dynCall_viiiiiiii=function(){return(db=a.dynCall_viiiiiiii=a.asm.E).apply(null,arguments)},eb=a.dynCall_iii=function(){return(eb=a.dynCall_iii=a.asm.F).apply(null,arguments)},fb=a.dynCall_iiii=function(){return(fb=a.dynCall_iiii=a.asm.G).apply(null,
arguments)},gb=a.dynCall_iiiii=function(){return(gb=a.dynCall_iiiii=a.asm.H).apply(null,arguments)},hb=a.dynCall_iiiiii=function(){return(hb=a.dynCall_iiiiii=a.asm.I).apply(null,arguments)},T=a.stackSave=function(){return(T=a.stackSave=a.asm.J).apply(null,arguments)},U=a.stackRestore=function(){return(U=a.stackRestore=a.asm.K).apply(null,arguments)};function Sa(b,c,f,d,e){var g=T();try{return gb(b,c,f,d,e)}catch(h){U(g);if(h!==h+0&&"longjmp"!==h)throw h;S(1,0)}}
function Va(b,c,f,d,e){var g=T();try{bb(b,c,f,d,e)}catch(h){U(g);if(h!==h+0&&"longjmp"!==h)throw h;S(1,0)}}function Xa(b,c,f,d,e,g,h,k,p){var u=T();try{db(b,c,f,d,e,g,h,k,p)}catch(v){U(u);if(v!==v+0&&"longjmp"!==v)throw v;S(1,0)}}function Ta(b,c,f,d,e,g){var h=T();try{return hb(b,c,f,d,e,g)}catch(k){U(h);if(k!==k+0&&"longjmp"!==k)throw k;S(1,0)}}function Ra(b,c,f,d){var e=T();try{return fb(b,c,f,d)}catch(g){U(e);if(g!==g+0&&"longjmp"!==g)throw g;S(1,0)}}
function Wa(b,c,f,d,e,g,h){var k=T();try{cb(b,c,f,d,e,g,h)}catch(p){U(k);if(p!==p+0&&"longjmp"!==p)throw p;S(1,0)}}function Qa(b,c,f){var d=T();try{return eb(b,c,f)}catch(e){U(d);if(e!==e+0&&"longjmp"!==e)throw e;S(1,0)}}function Ua(b,c){var f=T();try{ab(b,c)}catch(d){U(f);if(d!==d+0&&"longjmp"!==d)throw d;S(1,0)}}a.asm=$a;var V;N=function ib(){V||jb();V||(N=ib)};
function jb(){function b(){if(!V&&(V=!0,a.calledRun=!0,!na)){L(sa);L(ta);aa(a);if(a.onRuntimeInitialized)a.onRuntimeInitialized();if(a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;){var c=a.postRun.shift();ua.unshift(c)}L(ua)}}if(!(0<M)){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)va();L(ra);0<M||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1);b()},1)):b())}}
a.run=jb;if(a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();noExitRuntime=!0;jb();var Z,mb,nb;nb="undefined"===typeof performance||"undefined"===typeof performance.now?Date.now:performance.now.bind(performance);function ob(b){var c=nb();b=b();a.cpuTime+=nb()-c;return b}a.loadedMetadata=!!ba.videoFormat;a.videoFormat=ba.videoFormat||null;a.frameBuffer=null;a.cpuTime=0;Object.defineProperty(a,"processing",{get:function(){return!1}});
a.init=function(b){ob(function(){a._ogv_video_decoder_init()});b()};a.processHeader=function(b,c){var f=ob(function(){var d=b.byteLength;Z&&mb>=d||(Z&&a._free(Z),mb=d,Z=a._malloc(mb));var e=Z;(new Uint8Array(I.buffer,e,d)).set(new Uint8Array(b));return a._ogv_video_decoder_process_header(e,d)});c(f)};a.M=[];
a.processFrame=function(b,c){function f(k){a._free(g);c(k)}var d=a._ogv_video_decoder_async(),e=b.byteLength,g=a._malloc(e);d&&a.M.push(f);var h=ob(function(){(new Uint8Array(I.buffer,g,e)).set(new Uint8Array(b));return a._ogv_video_decoder_process_frame(g,e)});d||f(h)};a.close=function(){};a.sync=function(){a._ogv_video_decoder_async()&&(a.M.push(function(){}),ob(function(){a._ogv_video_decoder_process_frame(0,0)}))};a.recycledFrames=[];
a.recycleFrame=function(b){var c=a.recycledFrames;c.push(b);16<c.length&&c.shift()};var Ya="object"===typeof navigator&&navigator.userAgent.match(/Trident/);


  return OGVDecoderVideoVP9SIMDW.ready
}
);
})();
if (typeof exports === 'object' && typeof module === 'object')
      module.exports = OGVDecoderVideoVP9SIMDW;
    else if (typeof define === 'function' && define['amd'])
      define([], function() { return OGVDecoderVideoVP9SIMDW; });
    else if (typeof exports === 'object')
      exports["OGVDecoderVideoVP9SIMDW"] = OGVDecoderVideoVP9SIMDW;
    